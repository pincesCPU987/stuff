<html>
  <head>
    <title>
      Document Creator!
    </title>
    <script>window.onload = function(){
        var hint;
        var repl = 'Put HTML here or use codes provided.';
      	var txt = document.getElementById('txt');
        console.log('Default hint state is \'false\'');
      }
      var refresh = new Object();
      refresh.textarea = function(){
        hint = document.getElementById('check');
        if(hint.checked){
          if(txt.value.includes('$link$')){
            console.log('Spawned link with hints.');
          } else if(txt.value.includes('$p$')){
            console.log('Spawned paragraph with hints.');
          } else if(txt.value.includes('$h1$')){
            console.log('Spawned large header with hints.');
          }
          txt.value = txt.value.replace(
            '$link$',
            '<a href="Put link address here.">Put link text here.</a>'
          ).replace(
            '$p$',
            '<p style="color:Put color here or put \'default\'.">Put text here.</p>'
          ).replace(
            '$h1$',
            '<h1 style="color:Put color here or put\'default\'.">Put text here.</h1>'
          );
        } else {
          if(txt.value.includes('$link$')){
            console.log('Spawned link without hints.');
          } else if(txt.value.includes('$p$')){
            console.log('Spawned paragraph without hints.');
          } else if(txt.value.includes('$h1$')){
            console.log('Spawned large header without hints.');
          }
          txt.value = txt.value.replace(
            '$link$',
            '<a href=""></a>'
          ).replace(
            '$p$',
            '<p style="color:default"></p>'
          ).replace(
            '$h1$',
            '<h1 style="color:default"></h1>'
          ).replace(
            'Put HTML here or use codes provided.',
            ''
          );
        }
      }
      refresh.checkbox = function(){
        hint = document.getElementById('check');
        if(hint.checked){
          console.log('Set hints to \'true\'.');
        } else {
          console.log('Set hints to \'false\'.');
        }
      }
      refresh.frame = function(){
      var frame = document.getElementById('frame');
      var dataURI = 'data:text/html;base64,' + btoa(txt.value);
      frame.src = dataURI;
      
      }</script>
    <script src="/Links/html-maker/html-maker.js"></script>
  </head>
  <body>
    <form onsubmit="event.preventDefault();var name=document.getElementById('name');var txt=document.getElementById('txt');downl(this['name'].value.replace(/\ /g,'-').toLowerCase()+'.html',this['txt'].value);">
      <input type="file" name="inputfile" id="inputfile" accept="text/*"><label for="inputfile">Choose a file to upload (Input the name of the file you want to save in the text box indicated.).</label>
      <input type="checkbox" id="check" onclick="refresh.checkbox();fframe()"><label for="check">Hints</label><br>
      <textarea id="txt" oninput="refresh.textarea();fframe()" rows="20" cols="70">Put HTML here or use codes provided.</textarea><br>
      <input type="text" value="Untitled basic file" id="name"><br>
      <input type="submit" value="Download"><br>
      <iframe id="frame" width="100%" height="100%"></iframe>
    </form>
    
    
      
    <script type="text/javascript">
        document.getElementById('inputfile')
            .addEventListener('change', function() {
              
            var fr=new FileReader();
            fr.onload=function(){
                document.getElementById('txt').value=fr.result;
            }
              
            fr.readAsText(this.files[0]);
          refresh.frame()
        })
    </script>

  </body>
  <link rel="stylesheet" href="/Links/scrollbar.css">
</html>
